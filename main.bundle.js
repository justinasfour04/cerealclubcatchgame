(()=>{"use strict";var e={976:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(81),a=i.n(n),s=i(645),r=i.n(s)()(a());r.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Heebo&display=swap);"]),r.push([e.id,"html,\nbody {\n  overflow: hidden;\n  margin: 0;\n}\n\nbody {\n  position: relative;\n  display: initial;\n  font-size: 1em;\n  font-weight: 700;\n  font-family: 'Heebo';\n}\n\nbody::-webkit-scrollbar,\n.board-wrapper::-webkit-scrollbar {\n  display: none;\n}\n\n@media (min-width: 1024px) {\n  #app {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #app h1 {\n    border: 1px solid black;\n    border-radius: 50%;\n    padding: 5rem;\n    margin: auto;\n  }\n}\n\n.score {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.scoreText {\n  margin: 0px;\n  color: #000;\n  font-size: 1rem;\n}",""]);const o=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var o=0;o<this.length;o++){var c=this[o][0];null!=c&&(r[c]=!0)}for(var h=0;h<e.length;h++){var l=[].concat(e[h]);n&&r[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},81:e=>{e.exports=function(e){return e[1]}},405:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});var n=i(379),a=i.n(n),s=i(795),r=i.n(s),o=i(569),c=i.n(o),h=i(565),l=i.n(h),d=i(216),u=i.n(d),p=i(589),f=i.n(p),g=i(976),m={};m.styleTagTransform=f(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=r(),m.insertStyleElement=u(),a()(g.Z,m);const w=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},r=[],o=0;o<e.length;o++){var c=e[o],h=n.base?c[0]+n.base:c[0],l=s[h]||0,d="".concat(h," ").concat(l);s[h]=l+1;var u=i(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=a(p,n);n.byIndex=o,t.splice(o,0,{identifier:d,updater:f,references:1})}r.push(d)}return r}function a(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,a){var s=n(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<s.length;r++){var o=i(s[r]);t[o].references--}for(var c=n(e,a),h=0;h<s.length;h++){var l=i(s[h]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}s=c}}},569:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var a=void 0!==i.layer;a&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,a&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var s=i.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},844:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FallingBomb=void 0;const n=i(277),a=i(802);class s extends n.FallingObject{constructor(e,t,i){super(e,t,i,a.ImageCache.getImage(a.CacheKey.BOMB))}get hitbox(){const e=this.w;return[this.xPos,this.yPos+this.w,e,10]}}t.FallingBomb=s},6:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FallingGarbageBag=void 0;const n=i(277),a=i(802);class s extends n.FallingObject{constructor(e,t,i){super(e,t,i,a.ImageCache.getImage(a.CacheKey.GARBAGE_BAG))}get hitbox(){const e=this.w/3;return[this.xPos+e,this.yPos+this.w,e,5]}}t.FallingGarbageBag=s},277:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FallingObject=void 0,t.FallingObject=class{constructor(e,t,i,n=null){this.ctx=e,this.xPos=t,this.dy=i,this.image=n,this.yPos=-25}get y(){return this.yPos}get w(){return this.image?.width??0}get h(){return this.image?.height??0}get hitbox(){return[this.xPos,this.yPos,this.w,this.h]}draw(){null!==this.image&&(this.xPos>this.ctx.canvas.width-this.w&&(this.xPos-=this.w),this.ctx.drawImage(this.image,this.xPos,this.yPos))}drawCollisionBox(){const[e,t,i,n]=this.hitbox;this.ctx.strokeStyle="black",this.ctx.strokeRect(e,t,i,n)}update(e){this.yPos+=this.dy*e}}},352:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameState=void 0;const n=i(802);t.GameState=class{constructor(){this.score=0,this.highscore=parseInt(localStorage.getItem("highscore")??"0",10),this.playerName=localStorage.getItem("playername")??void 0,this.backgroundKey=n.BackgroundKey.ONE,this.isGameRunning=!1,this.isGameOver=!1,this.isGameScreenDrawn=!1,this.isGameMenuDrawn=!1,this.isGameOverDrawn=!1,this.isInMenu=!0}}},826:function(e,t,i){var n,a,s,r,o,c=this&&this.__classPrivateFieldSet||function(e,t,i,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(e,i):a?a.value=i:t.set(e,i),i},h=this&&this.__classPrivateFieldGet||function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.GarbageCan=void 0;const l=i(844),d=i(6),u=i(802);t.GarbageCan=class{constructor(e){this.ctx=e,n.set(this,void 0),a.set(this,void 0),s.set(this,void 0),r.set(this,void 0),o.set(this,void 0);const{canvas:t}=e;c(this,s,u.ImageCache.getImage(u.CacheKey.GARBAGE_CAN),"f"),c(this,n,t.width/2-h(this,s,"f").width/2,"f"),c(this,a,t.height-h(this,s,"f").height,"f"),c(this,r,[50,18,h(this,s,"f").width-50,5],"f"),c(this,o,3,"f"),window.addEventListener("mousemove",(e=>{h(this,s,"f")&&(c(this,n,e.pageX-t.offsetLeft-h(this,s,"f").width/2,"f"),h(this,n,"f")<0?c(this,n,-h(this,r,"f")[0],"f"):h(this,n,"f")+h(this,s,"f").width>t.width&&c(this,n,t.width-h(this,s,"f").width+h(this,r,"f")[0],"f")),e.preventDefault()})),window.addEventListener("touchmove",(e=>{h(this,s,"f")&&c(this,n,e.touches[0].pageX-t.offsetLeft-h(this,s,"f").width/2,"f"),e.preventDefault()}),{passive:!1})}get lives(){return h(this,o,"f")}reset(){c(this,o,3,"f")}draw(){this.ctx.drawImage(h(this,s,"f"),h(this,n,"f"),h(this,a,"f"))}drawCollisionBox(){const[e,t,i,s]=h(this,r,"f"),o=h(this,n,"f")+e,c=h(this,n,"f")+i-o;this.ctx.strokeStyle="black",this.ctx.strokeRect(h(this,n,"f")+e,h(this,a,"f")+t,c,s)}checkCollision(e,t){const{objects:i}=e;if(null!==h(this,s,"f")){const[e,s,p]=h(this,r,"f"),f=h(this,n,"f")+e,g=h(this,n,"f")+p,m=h(this,a,"f")+s;for(let e=0;e<i.size-1;e+=1){const n=i.items[e],[a,s,r,p]=n.hitbox;if(a+r>=f&&a<=g&&s+p>=m&&s<=m){if(n instanceof l.FallingBomb)return c(this,o,h(this,o,"f")-1,"f"),"bomb";if(n instanceof d.FallingGarbageBag)return t.score+=1,t.score%10==0&&(t.backgroundKey=t.backgroundKey===u.BackgroundKey.ONE?u.BackgroundKey.TWO:u.BackgroundKey.ONE),i.delete(e),"garbageBag"}}}return"none"}isDead(){return 0===h(this,o,"f")}},n=new WeakMap,a=new WeakMap,s=new WeakMap,r=new WeakMap,o=new WeakMap},802:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ImageCache=t.BackgroundKey=t.CacheKey=void 0;const a=n(i(706)),s=n(i(226)),r=n(i(858)),o=n(i(292)),c=n(i(700)),h=n(i(403)),l=i(882);var d,u;!function(e){e[e.GARBAGE_CAN=0]="GARBAGE_CAN",e[e.HEART=1]="HEART",e[e.BOMB=2]="BOMB",e[e.GARBAGE_BAG=3]="GARBAGE_BAG",e[e.BACKGROUND_1=4]="BACKGROUND_1"}(d||(t.CacheKey=d={})),function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO"}(u||(t.BackgroundKey=u={}));const p=new Map,f=new Map;t.ImageCache=class{static async loadAllImages(e){p.set(d.GARBAGE_CAN,await(0,l.loadImage)(a.default,0,0,500,324,{resizeWidth:e.width/3,resizeQuality:"high"})),p.set(d.HEART,await(0,l.loadImage)(r.default,0,0,243,225,{resizeWidth:e.width/12,resizeQuality:"high"})),p.set(d.BOMB,await(0,l.loadImage)(s.default,0,0,210,251,{resizeWidth:e.width/8,resizeQuality:"high"})),p.set(d.GARBAGE_BAG,await(0,l.loadImage)(o.default,0,0,251,251,{resizeWidth:e.width/5,resizeQuality:"high"})),f.set(u.ONE,await(0,l.loadImage)(c.default,0,0,897,941,{resizeWidth:e.width,resizeHeight:e.height})),f.set(u.TWO,await(0,l.loadImage)(h.default,0,0,897,941,{resizeWidth:e.width,resizeHeight:e.height}))}static getImage(e){return p.get(e)}static getBackground(e){return f.get(e)}}},0:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Lives=void 0;const n=i(802);t.Lives=class{constructor(e){this.ctx=e}draw(e){const t=n.ImageCache.getImage(n.CacheKey.HEART);if(t)for(let i=1;i<=e;i+=1)this.ctx.drawImage(t,this.ctx.canvas.width-5*t.width+1.1*t.width*i,20)}}},890:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaxHeap=void 0,t.MaxHeap=class{constructor(e){this.heap=[],this.heap.push(e)}get size(){return this.heap.length}get items(){return this.heap}get max(){return this.heap[0]?.y??0}parent(e){return this.heap[Math.floor(e/2)]}leftChiled(e){return this.heap[2*e]}rightChild(e){return this.heap[2*e+1]}isLeaf(e){return Math.floor(e/2)>this.size-1&&e<this.size-1}insert(e){this.heap.push(e);let t=this.size-1;for(;this.heap[t].y>this.parent(t).y;)[this.heap[t],this.heap[Math.floor(t/2)]]=[this.heap[Math.floor(t/2)],this.heap[t]],t=Math.floor(t/2);this.maxHeapify(0)}delete(e){[this.heap[e]]=[this.heap[this.size-1]],this.heap.pop(),this.maxHeapify(e)}maxHeapify(e){this.isLeaf(e)||(this.leftChiled(e)&&this.leftChiled(e).y>this.heap[e].y||this.rightChild(e)&&this.rightChild(e).y>this.heap[e].y)&&(this.leftChiled(e).y>(this.rightChild(e)?.y??0)?([this.heap[2*e],this.heap[e]]=[this.heap[e],this.heap[2*e]],this.maxHeapify(2*e)):([this.heap[2*e+1],this.heap[e]]=[this.heap[e],this.heap[2*e+1]],this.maxHeapify(2*e+1)))}}},122:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectFactory=void 0;const n=i(844),a=i(6),s=i(890),r=i(882);t.ObjectFactory=class{constructor(e){this.ctx=e,this.latestObject=this.initObject(),this.objects=new s.MaxHeap(this.latestObject)}reset(){this.latestObject=this.initObject(),this.objects=new s.MaxHeap(this.latestObject)}create(){this.latestObject.y>=200&&(this.latestObject=this.initObject(),this.objects.insert(this.latestObject))}draw(){this.objects.items.forEach((e=>{e.draw()}))}update(e=1){this.objects.items.forEach((t=>{t.update(e)}))}deleteObjectOffScreen(){this.objects.max>this.ctx.canvas.height&&this.objects.delete(0)}initObject(){const e=this.ctx.canvas.width,t=(0,r.randomNumber)(0,e),i=(0,r.randomNumber)(300,500);return(0,r.randomNumber)(0,1e4)%2==0?new n.FallingBomb(this.ctx,t,i):new a.FallingGarbageBag(this.ctx,t,i)}}},882:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.randomNumber=t.loadImage=void 0,t.loadImage=(e,t,i,n,a,s)=>{const r=new Image;return r.src=e,new Promise((e=>{r.onload=async()=>{const o=await createImageBitmap(r,t,i,n,a,s);e(o)}}))},t.randomNumber=function(e,t){const i=e>t?t:e,n=e>t?e:t;return Math.floor(Math.random()*(n-i+1)+i)}},700:(e,t,i)=>{e.exports=i.p+"fc3efb37384a4f32b696.png"},403:(e,t,i)=>{e.exports=i.p+"99ae54c4ccbe4a6d9566.png"},226:(e,t,i)=>{e.exports=i.p+"3b7b5c1dd63f48fa7714.png"},292:(e,t,i)=>{e.exports=i.p+"2e052890d08904479cc0.png"},706:(e,t,i)=>{e.exports=i.p+"18d59f62f44c3866716b.png"},858:(e,t,i)=>{e.exports=i.p+"4025550be0d9e4421b78.png"}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&!e;)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.nc=void 0,(()=>{i(405);const e=i(802),t=i(352),n=i(826),a=i(0),s=i(122);let r,o,c,h,l,d;async function u(t,i,n){n?(l||(l=n),d=(n-l)/1e3,r.isGameScreenDrawn||(function(e){const t=document.getElementById("app");if(null!==t)if(t?.clientWidth<1024){t.innerHTML="";const i=document.createElement("div");i.className="score",i.style.width=e.width.toString(10);const n=document.createElement("p");n.className="scoreText",n.id="_score";const a=document.createElement("p");a.className="scoreText",a.id="_highscore",i.appendChild(n),i.appendChild(a),t.appendChild(i),t.appendChild(e)}else{const e=document.createElement("h1");e.textContent="Only for mobile",t.appendChild(e)}}(t),r.isGameScreenDrawn=!0),"bomb"===o.checkCollision(c,r)&&(c.reset(),0===o.lives&&(async function(){const e=Math.max(r.score,r.highscore);localStorage.setItem("highscore",e.toString(10))}(),o.reset(),c.reset(),r.score=0,r.highscore=parseInt(localStorage.getItem("highscore")??"0",10))),function(e=1){c.update(e),c.deleteObjectOffScreen()}(Math.min(d,.1)),function(){const e=document.createElement("span");e.textContent=r.highscore.toString(10);const t=document.getElementById("_highscore");t&&(t.innerHTML=`High Score: ${e.innerHTML}`);const i=document.createElement("span");i.textContent=r.score.toString(10);const n=document.getElementById("_score");n&&(n.innerHTML=`Score: ${i.innerHTML}`)}(),c.create(),async function(t,i){null!==i&&(i.clearRect(0,0,t.width,t.height),i.drawImage(e.ImageCache.getBackground(r.backgroundKey),0,0),o.draw(),c.draw(),h.draw(o.lives))}(t,i),l=n,window.requestAnimationFrame((e=>u(t,i,e)))):window.requestAnimationFrame((e=>u(t,i,e)))}async function p(t){t.width=window.innerWidth,t.height=window.innerHeight,await e.ImageCache.loadAllImages(t)}function f(e){window.scrollTo(0,0),e.preventDefault(),e.stopPropagation()}(async()=>{const{canvas:e,ctx:i}=await async function(){window.addEventListener("scroll",f,!1),window.addEventListener("touchmove",f,!1);const e=document.createElement("canvas"),t=e.getContext("2d");return t.imageSmoothingEnabled=!1,window.addEventListener("resize",(()=>p(e)),!1),window.addEventListener("orientationchange",(()=>p(e)),!1),await p(e),{canvas:e,ctx:t}}();r=new t.GameState,o=new n.GarbageCan(i),c=new s.ObjectFactory(i),h=new a.Lives(i),null!==i&&await u(e,i)})()})()})();